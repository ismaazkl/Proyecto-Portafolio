<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Agenda simple</title>
<style>
  body{font-family:Inter,Arial;background:#071026;color:#e6eef6;padding:24px}
  .wrap{max-width:900px;margin:0 auto;display:grid;grid-template-columns:1fr 360px;gap:16px}
  .card{background:linear-gradient(#071827,#081827);padding:16px;border-radius:12px}
  input,textarea{width:100%;padding:8px;margin:6px 0;border-radius:8px;border:1px solid rgba(255,255,255,.06);background:#061523;color:#e6eef6}
  button{padding:8px 12px;border-radius:8px;border:0;background:#0ea5a4;color:#022;cursor:pointer}
  .item{padding:10px;border-radius:8px;background:#021620;margin-bottom:8px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h2>Notas / Agenda</h2>
      <label>Título</label>
      <input id="title" />
      <label>Descripción</label>
      <textarea id="desc" rows="4"></textarea>
      <label>Fecha (opcional)</label>
      <input id="date" type="date" />
      <div style="display:flex;gap:8px">
        <button id="add">Agregar</button>
        <button id="clear">Borrar todo</button>
      </div>
      <h3 style="margin-top:12px">Detalles</h3>
      <div id="list"></div>
    </div>

    <div class="card">
      <h3>Vista rápida</h3>
      <div id="quick"></div>
    </div>
  </div>

<script>
const key = 'mi-agenda-v1';
let items = JSON.parse(localStorage.getItem(key) || '[]');

function save(){ localStorage.setItem(key, JSON.stringify(items)); render(); }
function render(){
  const list = document.getElementById('list');
  list.innerHTML = '';
  items.sort((a,b)=> (a.date||'') > (b.date||'') ? 1 : -1);
  items.forEach((it, idx)=>{
    const div = document.createElement('div'); div.className='item';
    div.innerHTML = `<strong>${it.title}</strong> <div style="font-size:0.9rem;color:#9fbfd0">${it.date||''}</div>
      <div style="margin-top:6px">${it.desc||''}</div>
      <div style="margin-top:8px"><button data-i="${idx}" class="del">Eliminar</button></div>`;
    list.appendChild(div);
  });
  const q = document.getElementById('quick'); q.innerHTML = items.slice(0,5).map(i=>`<div class="item"><strong>${i.title}</strong><div style="font-size:0.85rem">${i.date||''}</div></div>`).join('');
  document.querySelectorAll('.del').forEach(b=>b.addEventListener('click', e=>{
    const i = +e.target.dataset.i; items.splice(i,1); save();
  }));
}

document.getElementById('add').addEventListener('click', ()=>{
  const t = document.getElementById('title').value.trim();
  const d = document.getElementById('desc').value.trim();
  const date = document.getElementById('date').value || null;
  if(!t){ alert('El título es obligatorio'); return; }
  items.push({title:t, desc:d, date}); save();
  document.getElementById('title').value=''; document.getElementById('desc').value=''; document.getElementById('date').value='';
});
document.getElementById('clear').addEventListener('click', ()=>{ if(confirm('Borrar todo?')){ items=[]; save(); } });

render();
</script>
</body>
</html>
